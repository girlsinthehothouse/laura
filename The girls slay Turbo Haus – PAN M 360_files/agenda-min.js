const bodyAgenda=document.body;function ajax_search_agenda(){let e,a,n,r,t,s,o,d,l,u=24,c=0,i=!1,y=!1,g=!1;function j(){jQuery(".loader-filtre-genre").css("display","block").css("opacity","1"),jQuery.ajax({type:"post",dataType:"json",url:agendAjax.ajaxurl,data:{action:"display_agenda",year:n,agenda_start_date:d,agenda_end_date:l,daterange:y,month:r,genre:t,count:o,nonce:s,agenda_mini:g},success:function(e){if("success"==e.type){if(i)return jQuery("#agenda").html(e.events),jQuery(".loader-filtre-genre").css("display","none").css("opacity","0"),!1;jQuery("#agenda_mini").html(e.events)}jQuery(".loader-filtre-genre").css("display","none").css("opacity","0")},complete:function(e){}})}function p(){jQuery(".calendrier-ul-container li").css("display","none"),c++,e=c*u,jQuery(".calendrier-ul-container li").slice(0,e).css("display","flex"),a=undefined-e,a<0&&jQuery("#bouton-load-more").hide()}if(jQuery("#agenda-filtres-date").on("submit",(function(e){if(e.preventDefault(),""==jQuery(".start").val()||""==jQuery(".end").val())return jQuery("#date_search_message").css("display","block"),!1;jQuery("#date_search_message").css("display","none"),jQuery(".loader-filtre-genre").css("display","block").css("opacity","1"),i=!0,g=!1,y=!0,s=jQuery("#agenda-nonce").val(),t=jQuery("#agenda-genre").val(),o=jQuery("#agenda-count").val();var a=/-/gi;d=jQuery("#agenda-start").attr("data-date").replace(a,"/"),l=jQuery("#agenda-end").attr("data-date").replace(a,"/"),j()})),jQuery("#choix-style-musical select").on("change",(function(e){e.preventDefault(),i=!1,g=!0,d=jQuery("#agenda-start").val(),n=jQuery("#agenda-year").val(),r=jQuery("#agenda-month").val(),t=jQuery("#agenda-genre").val(),s=jQuery("#agenda-nonce").val(),o=jQuery("#agenda-count").val(),j()})),jQuery("#bouton-load-more").on("click",(function(e){e.preventDefault(),p()})),jQuery("#square-featured-slider").length>0&&jQuery("#square-featured-slider").slick({autoplay:!0,autoplaySpeed:4e3,adaptiveHeight:!0,lazyLoad:"ondemand",prevArrow:'<div class="slick-prev-arrow"><svg class="icone"><use xlink:href="#slider-left-arrow"></use></svg></div>',nextArrow:'<div class="slick-next-arrow"><svg class="icone"><use xlink:href="#slider-right-arrow"></use></svg></div>'}),p(),null!==document.getElementById("agenda-filtres-section")){const e="fr"==agendAjax.current_language?"fr-FR":"en-EN",a="fr"==agendAjax.current_language?"fr":"en",n={fr:["Jan","Fév","Mar","Avr","Mai","Jui","Juil","Aou","Sep","Oct","Nov","Déc"],en:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]},r={fr:["D","L","M","M","J","V","S"],en:["S","M","T","W","Th","F","S"]},t={weekday:"long",year:"numeric",month:"long",day:"numeric"};datepicker(".start",{onSelect:e=>{},onShow:e=>{},onHide:e=>{},onMonthChange:e=>{},formatter:(a,n,r)=>{a.value=n.toLocaleDateString(e,t),jQuery(a).attr("data-date",n.toISOString().split("T")[0])},startDay:1,customDays:r[a],customMonths:n[a],id:1}),datepicker(".end",{formatter:(a,n,r)=>{a.value=n.toLocaleDateString(e,t),jQuery(a).attr("data-date",n.toISOString().split("T")[0])},startDay:1,customDays:r[a],customMonths:n[a],id:1})}}bodyAgenda.classList.contains("page-template-page-agenda")&&ajax_search_agenda();